name = "osl-skin-ai"
main = "src/worker.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Account ID - replace with your Cloudflare account ID
account_id = ""

# Workers Routes
routes = [
  { pattern = "oslai.yourdomain.com/*", zone_name = "yourdomain.com" }
]

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "oslai-db"
database_id = ""

# R2 Bucket binding for image storage
[[r2_buckets]]
binding = "R2"
bucket_name = "oslai-images"

# Environment variables (secrets managed via wrangler secret put)
[vars]
FRONTEND_URL = "https://oslai.yourdomain.com"

# Secrets to set via CLI:
# wrangler secret put GROK_API_KEY
# wrangler secret put STRIPE_SECRET_KEY
# wrangler secret put STRIPE_WEBHOOK_SECRET
# wrangler secret put STRIPE_PRICE_ID
# wrangler secret put JWT_SECRET

# Asset hosting for static files
[site]
bucket = "./public"

# Build configuration
[build]
command = ""

[build.upload]
format = "service-worker"
